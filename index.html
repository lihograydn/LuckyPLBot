<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>CS:GO Case Simulator</title>
    <style>
        :root {
            --bg-color: #1b2838;
            --panel-color: #2a475e;
            --text-color: #c7d5e0;
            --accent-color: #66c0f4;
            --consumer: #b0c3d9;
            --industrial: #5e98d9;
            --milspec: #4b69ff;
            --restricted: #8847ff;
            --classified: #d32ce6;
            --covert: #eb4b4b;
            --gold: #ffd700;
            --bg-inventory: rgba(0,0,0,0.2);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            user-select: none;
        }

        /* Header & Navigation */
        header {
            width: 100%;
            background-color: #171a21;
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            gap: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-btn {
            background: transparent;
            border: none;
            color: var(--text-color);
            font-size: 18px;
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 4px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: bold;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(103, 193, 245, 0.2);
            color: var(--accent-color);
        }

        /* Container */
        .container {
            width: 90%;
            max-width: 1200px;
            margin-top: 30px;
            margin-bottom: 50px;
        }

        /* Profile Section */
        .profile-card {
            background: linear-gradient(135deg, #2a475e 0%, #1b2838 100%);
            border-radius: 10px;
            padding: 30px;
            display: flex;
            align-items: center;
            gap: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        .avatar {
            width: 100px;
            height: 100px;
            background: #000;
            border-radius: 50%;
            border: 3px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .profile-info h1 { margin: 0; font-size: 28px; }
        .profile-info p { margin: 5px 0; color: #8f98a0; }
        .balance { color: #46c400; font-weight: bold; font-size: 24px; }

        /* Cases Grid */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
        }

        .case-card {
            background: var(--panel-color);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            border: 1px solid rgba(0,0,0,0.0);
        }

        .case-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
            border: 1px solid var(--accent-color);
        }

        .case-img {
            height: 180px;
            width: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: transform 0.5s ease;
        }
        
        .case-card:hover .case-img {
            transform: scale(1.1) rotate(2deg);
        }

        .case-info {
            padding: 15px;
            text-align: center;
            background: rgba(0,0,0,0.2);
        }
        
        .case-name { font-weight: bold; font-size: 18px; margin-bottom: 5px; }
        .case-price { color: #46c400; }

        /* Inventory */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .inv-item {
            background: rgba(0,0,0,0.3);
            border-radius: 6px;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-bottom: 4px solid transparent;
            transition: transform 0.2s;
        }
        
        .inv-item:hover { transform: scale(1.05); }

        /* Rarity Borders */
        .rarity-milspec { border-bottom-color: var(--milspec); }
        .rarity-restricted { border-bottom-color: var(--restricted); }
        .rarity-classified { border-bottom-color: var(--classified); }
        .rarity-covert { border-bottom-color: var(--covert); }
        .rarity-gold { border-bottom-color: var(--gold); }

        .inv-item img { width: 150px; height: 100px; object-fit: contain; }
        .inv-item .name { font-size: 14px; margin-top: 5px; text-align: center; }
        .inv-item .price { font-size: 12px; color: #8f98a0; }
        .stattrak { color: #cf6a32; font-weight: bold; }

        /* Opening Modal */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 200;
        }
        
        .active { display: flex; }

        .roulette-container {
            width: 800px;
            height: 300px;
            overflow: hidden;
            position: relative;
            background: #000;
            border-radius: 10px;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .roulette-strip {
            display: flex;
            height: 100%;
            position: absolute;
            left: 0;
            transition: left 6s cubic-bezier(0.15, 0.85, 0.35, 1.00);
        }

        .roulette-card {
            width: 200px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-right: 2px solid rgba(255,255,255,0.1);
            flex-shrink: 0;
            position: relative;
        }
        
        .roulette-card img {
            width: 150px;
            height: 100px;
            object-fit: contain;
        }
        
        .winner-pointer {
            position: absolute;
            top: 0; left: 50%;
            width: 4px; height: 100%;
            background: var(--accent-color);
            transform: translateX(-50%);
            box-shadow: 0 0 10px var(--accent-color);
            z-index: 10;
        }

        .close-btn {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 18px;
            background: linear-gradient(to right, #47b247 0%, #67c1a3 100%);
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            display: none;
        }

        .result-info {
            margin-top: 20px;
            text-align: center;
            background: rgba(0,0,0,0.5);
            padding: 20px;
            border-radius: 10px;
            min-width: 300px;
        }

        .hidden { display: none !important; }

    </style>
</head>
<body>

    <header>
        <button class="nav-btn active" onclick="openTab('profile')">–ü–†–û–§–ò–õ–¨</button>
        <button class="nav-btn" onclick="openTab('cases')">–ö–ï–ô–°–´</button>
        <button class="nav-btn" onclick="openTab('inventory')">–ò–ù–í–ï–ù–¢–ê–†–¨</button>
    </header>

    <div class="container">
        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <div id="profile-tab" class="tab-content">
            <div class="profile-card">
                <div class="avatar">üë§</div>
                <div class="profile-info">
                    <h1 id="user-name">–ò–≥—Ä–æ–∫</h1>
                    <p>–ë–∞–ª–∞–Ω—Å: <span class="balance" id="user-balance">$250.00</span></p>
                    <p>–í—Å–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ –∫–µ–π—Å–æ–≤: <span id="total-cases">0</span></p>
                    <p>–°–∫–∏–¥–æ–∫ –ø–æ–ª—É—á–µ–Ω–æ: <span id="total-drops">0</span></p>
                </div>
            </div>
        </div>

        <!-- –ö–µ–π—Å—ã -->
        <div id="cases-tab" class="tab-content hidden">
            <div class="cases-grid" id="cases-grid">
                <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
            </div>
        </div>

        <!-- –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å -->
        <div id="inventory-tab" class="tab-content hidden">
            <div class="inventory-grid" id="inventory-grid">
                <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏—è -->
    <div class="modal-overlay" id="modal">
        <div class="roulette-container">
            <div class="winner-pointer"></div>
            <div class="roulette-strip" id="roulette-strip">
                <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
            </div>
        </div>
        <div class="result-info" id="result-info">
            <h2 id="res-name" style="margin:0"></h2>
            <p id="res-wear" style="margin:5px 0; opacity:0.8"></p>
            <p id="res-price" style="font-size:20px; font-weight:bold; color:#46c400"></p>
        </div>
        <button class="close-btn" id="close-btn" onclick="closeModal()">–ó–ê–ö–†–´–¢–¨</button>
    </div>

    <script>
        // --- –î–ê–ù–ù–´–ï –ò–ì–†–´ ---
        let balance = 250.00;
        let totalCases = 0;
        let totalDrops = 0;
        let inventory = [];

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤ [–ù–∞–∑–≤–∞–Ω–∏–µ, –û—Ä—É–∂–∏–µ, –†–µ–¥–∫–æ—Å—Ç—å, –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É, –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞]
        // –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∫–æ–Ω–∫–∏ –∏–∑ Steam/–æ–±—â–∏—Ö –±–∞–∑, –∏–ª–∏ –∑–∞–≥–ª—É—à–∫–∏
        const skinDB = {
            'Dreams & Nightmares': [
                { name: 'MP5-SD | Necro Jr.', weapon: 'MP5-SD', rarity: 'milspec', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgou7uheOVRuie_PLcjhV5Nm0fPdfm_HmDL3QhmJW4NJOhujT8om7iQCy80RqYWn0I4LEd1U-YQzY_1C7wOq60J64uc7XiSw0fIMQEA/360fx360f', price: 0.15 },
                { name: 'MAG-7 | Foresight', weapon: 'MAG-7', rarity: 'milspec', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgoubaqhNBTnePLcjhV5Nm0fPdfm_HmDL3QhmJW4NJOhujT8om7iQCy80RqYGmhItTGdwU-YF6FqAO_wujshJC5uZ7JzCpr6D5iuyjuztMv330_MLHdpw/360fx360f', price: 0.25 },
                { name: 'Tec-9 | Rebel', weapon: 'Tec-9', rarity: 'restricted', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouo6WgOANew_NPmJTk9O6m5aKkPP9ILrDhGpe18l4jeHVu4702A2wrko4YDahcYOTelA4NFyD_Vc7j7i9h5C0tJ6azHBxvSNx4nfUmUfkhxRccy8hP_XJZA/360fx360f', price: 1.20 },
                { name: 'XM1014 | Zombie Offensive', weapon: 'XM1014', rarity: 'restricted', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgou8-dPhgJwi8ndPzVg4Im7k5OdlPP9J4vdqWhe5sN4mOTE8oXwjFG2-kZoamj1d9SVdgA2YwyD8lS3xOa6jZ75ucvBnXYx6yQg-z-DyG5U0mzQ/360fx360f', price: 1.50 },
                { name: 'G3SG1 | Dream Glade', weapon: 'G3SG1', rarity: 'classified', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouu5eHnAQy3PfYQJD_9W7m5a0mvLwOq7cqWdQ689j3eqRot-g2A3l_EY9ZWH3I4TEclI5YFDX_Fe4xeu7hJC-uMyazHNxvyIj5Hfaxu0IhHg/360fx360f', price: 4.50 },
                { name: 'FAMAS | Mecha Industries', weapon: 'FAMAS', rarity: 'classified', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouu7eihgRh1fLIkRHvdyt6zqPqPP9J4vdqWhe5sN4mOTE8oXwjFG2-kZoamj1d9SVdgA2YwyD8lS3xOa6jZ75ucvBnXYx6yQg-z-DyG5Vc1XfK_0ENOGFDpWIGg/360fx360f', price: 5.00 },
                { name: 'Dual Berettas | Melondrama', weapon: 'Dual Berettas', rarity: 'covert', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouopOhNAnTyeW3ZS5G0-kh5OdlPP9J4vdqWhe5sN4mOTE8oXwjFG2-kZoamj1d9SVdgA2YwyD8lS3xOa6jZ75ucvBnXYx6yQg-z-DyOihk0I3fvo-k_1pYaXQEOEmXvL8w/360fx360f', price: 12.00 },
                { name: 'AK-47 | Nightwish', weapon: 'AK-47', rarity: 'covert', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgou7qehOVRuie_PLcjhV5Nm0fPdfm_HmDL3QhmJW4NJOhujT8om7iQCy80RqYGmhItTGdwU-YF6FqAO_wujshJC5uZ7JzCpr6D5iuyjuztMv330_N8lqJDEg/360fx360f', price: 35.00 },
                { name: '‚òÖ Gloves | Fade', weapon: 'Gloves', rarity: 'gold', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DfVlxgLQFFibKkJQN3wfLYYgJK7dKyg5KKh8j4Nr_YgH4Iu5Yhj7iQoY-h0Qfh_EZpYW-hJIGTdVc6Z1jV-VG4l7u5gJW7ucvByCYwviUm5HzcyR2_xh1SLrs0pIzTBdw/360fx360f', price: 350.00 },
                { name: '‚òÖ Knife | Karambit', weapon: 'Knife', rarity: 'gold', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpovbSsLQJf2PLacDBA5ciJl4G0k_jkI7fUhFRB4MRij7j--YXygED6-EpsZDihdYWWdVc5ZlvU-1jrxLjqh5C-u5uYmyYysnIn4HqOykzkgx0bOGu_oh1GaQk/360fx360f', price: 150.00 } // –£—Å–ª–æ–≤–Ω—ã–π –¥–µ—à–µ–≤—ã–π –Ω–æ–∂ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
            ],
            'Fracture Case': [
                { name: 'P90 | Freight', weapon: 'P90', rarity: 'milspec', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouo6WgOANfwOD3fCpE4Jyyk5Sck-j4NrrFnm5U8MBiTejE-YLwjFG2-kZoZGyiJIGTdAJtZlvW81C2yOa6h5K1vJqanHs2uGB8spQVOrBh0xRbc-FxxavJG_BNkE/360fx360f', price: 0.10 },
                { name: 'SG 553 | Ol\' Rusty', weapon: 'SG 553', rarity: 'milspec', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouo6WgOANfwOD3fCpE4Jyyk5Sck-j4NrrFnm5U8MBiTejE-YLwjFG2-kZoZGyiJIGTdAJtZlvW81C2yOa6h5K1vJqanHs2uGB8spQVOrBh0xRbc-FxxavJG_BNkE/360fx360f', price: 0.10 },
                { name: 'MAC-10 | Allure', weapon: 'MAC-10', rarity: 'restricted', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgouopOhNAnTyeW3ZS5G0-jl5ePqPP9J4vdqWhe5sN4mOTE8oXwjFG2-kZoamj1d9SVdgA2YwyD8lS3xOa6jZ75ucvBnXYx6yQg-z-DyOuK3Fk9JxLUKE9OGFDpWIGg/360fx360f', price: 0.80 },
                { name: 'M4A4 | Tooth Fairy', weapon: 'M4A4', rarity: 'classified', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpovbSsLQJf0ebcZThQ6tCvq4GGqOT1I6vZn3lU18h0juDU_Jn4xlXl-EY9ZWymItTDcwM2MA7Yq1TvkOjj0J65ucvBnXYx6yQg-z-DyN8rG24x0LSkNsp5SiA/360fx360f', price: 8.50 },
                { name: 'Glock-18 | Vogue', weapon: 'Glock-18', rarity: 'covert', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgposbaqKAxf0Ob3djFN79fnwIKKhMj4OrzZgiUFuJIn2L-Vpdii2wGw-kZqYzvzJYOVcQ5vN1nX-gC_l-q8g8O1u5vJySdrvyJx7XvUy0C-0h1SLrs0o4zDBdw/360fx360f', price: 25.00 },
                { name: '‚òÖ Skeleton Knife | Fade', weapon: 'Knife', rarity: 'gold', img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DfVlxgLQFFibKkJQN3wfLYYgJK7c6xkZLdlPP9J4vdqWhe5sN4mOTE8oXwjFG2-kZoZGyiJIGTdAJtZlvW81C2yOa6h5K1vJqanHs2uGB8spQVOrBh0xRbc-FxxavJG_BNkE/360fx360f', price: 500.00 }
            ]
        };

        const caseList = [
            { name: 'Dreams & Nightmares Case', price: 1.50, img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpovbSsLQJf0ebcZThQ6tCvq4GGqOT1I6vZn3lU18hwjOqTo9Sn0FDmr0RvYDvzIdTGIANtMAnX-lS_l-q80J64ucvBnXYx6yQg-z-DyD30F_OA8g/360fx360f', contents: skinDB['Dreams & Nightmares'] },
            { name: 'Fracture Case', price: 0.80, img: 'https://community.cloudflare.steamstatic.com/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxDZ7I56KU0Zwwo4NUX4oFJZEHLbXH5ApeO4YmlhxYQknCRvCo04DEVlxkKgpovbSsLQJf2PLacDBA5ciJl5O0m_7zO6-fqWlY781lxL-U9Jj0jFCy-kJqZjvwIYfGJAI7Y1nW-gW_l-q80J64ucvBnXYx6yQg-z-DyVnBh0h1SLrs0vFyZQw/360fx360f', contents: skinDB['Fracture Case'] }
        ];

        // –®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è (–≤–µ—Å)
        const rarityWeights = {
            'milspec': 70,
            'restricted': 15,
            'classified': 10,
            'covert': 4,
            'gold': 1
        };

        const wearChances = [
            { name: '–ü—Ä—è–º–æ —Å –∑–∞–≤–æ–¥–∞', min: 0.00, max: 0.07, chance: 3 },
            { name: '–ù–µ–º–Ω–æ–≥–æ –ø–æ–Ω–æ—à–µ–Ω–Ω–æ–µ', min: 0.07, max: 0.15, chance: 20 },
            { name: '–ü–æ–Ω–æ—à–µ–Ω–Ω–æ–µ', min: 0.15, max: 0.38, chance: 35 },
            { name: '–ó–∞–∫–∞–ª—ë–Ω–Ω–æ–µ –≤ –±–æ—è—Ö', min: 0.38, max: 0.45, chance: 20 },
            { name: '–ü–æ—Ö–æ–¥–Ω–æ–µ', min: 0.45, max: 1.00, chance: 22 }
        ];

        const patterns = [661, 387, 418, 408, 420, 525, 892, 104, 147, 300, 111, 234]; // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞

        // --- –õ–û–ì–ò–ö–ê –ò–ù–¢–ï–†–§–ï–ô–°–ê ---

        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            event.target.classList.add('active');

            if(tabName === 'inventory') renderInventory();
        }

        function renderProfile() {
            document.getElementById('user-balance').innerText = '$' + balance.toFixed(2);
            document.getElementById('total-cases').innerText = totalCases;
            document.getElementById('total-drops').innerText = totalDrops;
        }

        function renderCases() {
            const grid = document.getElementById('cases-grid');
            grid.innerHTML = '';
            caseList.forEach(c => {
                const card = document.createElement('div');
                card.className = 'case-card';
                card.onclick = () => openCase(c);
                card.innerHTML = `
                    <div style="height: 180px; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                        <img src="${c.img}" class="case-img" alt="${c.name}">
                    </div>
                    <div class="case-info">
                        <div class="case-name">${c.name}</div>
                        <div class="case-price">$${c.price.toFixed(2)}</div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function renderInventory() {
            const grid = document.getElementById('inventory-grid');
            grid.innerHTML = '';
            if(inventory.length === 0) {
                grid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: #888;">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>';
                return;
            }
            inventory.forEach(item => {
                const div = document.createElement('div');
                div.className = `inv-item rarity-${item.rarity}`;
                
                const nameColor = item.stattrak ? 'stattrak' : '';
                div.innerHTML = `
                    <img src="${item.img}" alt="${item.name}">
                    <div class="name ${nameColor}">${item.stattrak ? 'StatTrak‚Ñ¢ ' : ''}${item.name}</div>
                    <div style="font-size: 11px; opacity: 0.7;">${item.wear_name}</div>
                    <div class="price">$${item.price.toFixed(2)}</div>
                `;
                grid.appendChild(div);
            });
        }

        // --- –õ–û–ì–ò–ö–ê –û–¢–ö–†–´–¢–ò–Ø –ö–ï–ô–°–ê ---

        function getRandomItem(contents) {
            // 1. –í—ã–±–∏—Ä–∞–µ–º —Ä–µ–¥–∫–æ—Å—Ç—å
            const totalWeight = Object.values(rarityWeights).reduce((a, b) => a + b, 0);
            let random = Math.random() * totalWeight;
            let selectedRarity = 'milspec';
            
            for (const [rarity, weight] of Object.entries(rarityWeights)) {
                if (random < weight) {
                    selectedRarity = rarity;
                    break;
                }
                random -= weight;
            }

            // 2. –§–∏–ª—å—Ç—Ä—É–µ–º —Å–∫–∏–Ω—ã –ø–æ —Ä–µ–¥–∫–æ—Å—Ç–∏ –∏ –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π
            const possibleItems = contents.filter(item => item.rarity === selectedRarity);
            if(possibleItems.length === 0) return contents[0]; // Fallback
            
            return possibleItems[Math.floor(Math.random() * possibleItems.length)];
        }

        function generateSkinData(baseItem) {
            // –ò–∑–Ω–æ—Å
            let randomWear = Math.random();
            let wear;
            // –ü–æ–¥–≥–æ–Ω–∫–∞ –ø–æ–¥ –ø—Ä–æ—Ü–µ–Ω—Ç—ã –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ –±–µ—Ä–µ–º —Å–ª—É—á–∞–π–Ω—ã–π)
            let wearRoll = Math.floor(Math.random() * 100);
            let cumulative = 0;
            for(let w of wearChances) {
                cumulative += w.chance;
                if(wearRoll <= cumulative) {
                    wear = w;
                    break;
                }
            }
            if(!wear) wear = wearChances[wearChances.length - 1];
            
            let floatVal = (Math.random() * (wear.max - wear.min) + wear.min).toFixed(4);

            // StatTrak (—à–∞–Ω—Å 10%)
            const isStatTrak = Math.random() < 0.1;

            // –ü–∞—Ç—Ç–µ—Ä–Ω (–¥–ª—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤, —Ç–∏–ø–∞ Fade –∏–ª–∏ Marble Fade)
            let pattern = null;
            if(baseItem.name.includes('Fade') || baseItem.name.includes('Marble')) {
                pattern = patterns[Math.floor(Math.random() * patterns.length)];
            }

            // –¶–µ–Ω–∞ (—Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è +-10% –æ—Ç –±–∞–∑—ã)
            let price = baseItem.price * (0.9 + Math.random() * 0.2);
            
            // –ò–∑–Ω–æ—Å –≤–ª–∏—è–µ—Ç –Ω–∞ —Ü–µ–Ω—É (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
            if(floatVal > 0.4) price *= 0.8;
            
            // StatTrak x3
            if(isStatTrak) price *= 3.5;

            return {
                ...baseItem,
                wear_name: wear.name,
                float: floatVal,
                pattern: pattern,
                stattrak: isStatTrak,
                price: price
            };
        }

        function openCase(caseData) {
            if(balance < caseData.price) {
                alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!");
                return;
            }

            balance -= caseData.price;
            totalCases++;
            renderProfile();

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–æ—Å—ã —Ä—É–ª–µ—Ç–∫–∏
            const strip = document.getElementById('roulette-strip');
            strip.innerHTML = '';
            strip.style.transition = 'none';
            strip.style.left = '0px';

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 50 –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è –ª–µ–Ω—Ç—ã
            const items = [];
            for(let i=0; i<50; i++) {
                items.push(getRandomItem(caseData.contents));
            }
            
            // –ü–æ–±–µ–¥–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç - –≤ —Ü–µ–Ω—Ç—Ä (–≥–¥–µ-—Ç–æ 30-35 –ø–æ–∑–∏—Ü–∏—è)
            const winIndex = 32; 
            const winner = generateSkinData(items[winIndex]);
            
            // –ï—Å–ª–∏ –≤—ã–ø–∞–ª –Ω–æ–∂ –∏–ª–∏ –ø–µ—Ä—á–∞—Ç–∫–∏ (Gold), —Å—á–∏—Ç–∞–µ–º –¥—Ä–æ–ø–æ–º
            if(winner.rarity === 'gold') totalDrops++;

            // –†–µ–Ω–¥–µ—Ä –ª–µ–Ω—Ç—ã
            items.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'roulette-card';
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏ —Ñ–æ–Ω–æ–º
                let bgColor = 'rgba(0,0,0,0.5)';
                if(item.rarity === 'gold') bgColor = 'rgba(255, 215, 0, 0.1)';
                
                card.style.background = bgColor;
                card.innerHTML = `<img src="${item.img}" style="transform: scale(0.9);">`;
                strip.appendChild(card);
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª–∫—É
            document.getElementById('modal').classList.add('active');
            document.getElementById('close-btn').style.display = 'none';
            document.getElementById('result-info').style.opacity = '0';

            // –ê–Ω–∏–º–∞—Ü–∏—è
            setTimeout(() => {
                // –®–∏—Ä–∏–Ω–∞ –∫–∞—Ä—Ç—ã 200px. –ù–∞–¥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–∞ winIndex.
                // –ß—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä (400px –æ—Ç –Ω–∞—á–∞–ª–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) –ø–æ–ø–∞–ª –≤ –∫–∞—Ä—Ç—É.
                // –†–∞—Å—á–µ—Ç: -(winIndex * 200) + (400 - 100) = center
                // –ù–æ —Å —Ä–∞–Ω–¥–æ–º–Ω—ã–º —Å–º–µ—â–µ–Ω–∏–µ–º –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç—ã
                const randomOffset = Math.random() * 100 - 50; // –Ω–µ–±–æ–ª—å—à–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
                const distance = (winIndex * 200) + randomOffset - 300;
                
                strip.style.transition = 'left 6s cubic-bezier(0.15, 0.85, 0.35, 1.00)';
                strip.style.left = -distance + 'px';
            }, 100);

            // –†–µ–∑—É–ª—å—Ç–∞—Ç
            setTimeout(() => {
                inventory.push(winner);
                
                let nameHtml = winner.name;
                if(winner.stattrak) nameHtml = `<span class="stattrak">StatTrak‚Ñ¢</span> ${winner.name}`;
                
                document.getElementById('res-name').innerHTML = nameHtml;
                
                let wearText = winner.wear_name + ` (${winner.float})`;
                if(winner.pattern) wearText += ` | Pattern #${winner.pattern}`;
                
                document.getElementById('res-wear').innerText = wearText;
                
                let priceColor = winner.rarity === 'gold' ? '#ffd700' : '#46c400';
                document.getElementById('res-price').innerText = '$' + winner.price.toFixed(2);
                document.getElementById('res-price').style.color = priceColor;
                
                document.getElementById('result-info').style.opacity = '1';
                document.getElementById('close-btn').style.display = 'block';
                
                renderProfile();
            }, 6500);
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ---
        renderProfile();
        renderCases();
        renderInventory();

    </script>
</body>
</html>
