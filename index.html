<!DOCTYPE html>
<html>
<head>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h2>Баланс: <span id="balance">...</span></h2>
  <button onclick="withdraw()">Забрать деньги</button>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    async function loadBalance() {
      const res = await fetch("https://your-domain.com/api/get_balance", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          initData: tg.initData
        })
      });

      const data = await res.json();
      document.getElementById("balance").innerText = data.balance;
    }

    async function withdraw() {
      await fetch("https://your-domain.com/api/withdraw", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          initData: tg.initData
        })
      });

      document.getElementById("balance").innerText = 0;
    }

    loadBalance();
  </script>
</body>
</html>
